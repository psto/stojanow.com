---
import { Image } from "astro:assets";
import AppTitle from "~/components/AppTitle.astro";
import ExternalLink from "~/components/ExternalLink.astro";
import avatar from "~/assets/avatar@2x.png";
import { formatDate } from "~/utils/index";
import site from "~/config/site";

const { author, twitterUsername } = site;

type Props = {
  date: string;
  title: string;
};

const { date, title } = Astro.props;
---

<header>
  <div class="mb-8 lg:prose-lg">
    <AppTitle>{title}</AppTitle>
  </div>

  <div class="flex justify-center">
    <time
      datetime={date}
      class="block text-center text-sm italic text-gray-600 dark:text-gray-400"
    >
      {formatDate(date)}
    </time>
  </div>

  <div class="flex justify-center">
    <div class="flex items-center space-x-2">
      <Image
        src={avatar}
        alt={`${author}'s avatar`}
        height={avatar.height}
        width={avatar.width}
        class="mx-auto h-10 w-10 rounded-full"
      />

      <dl class="whitespace-nowrap text-sm font-medium text-gray-700">
        <dt class="sr-only">Name</dt>
        <dd class="m-0 pl-0">
          <p class="m-0 text-gray-700 no-underline dark:text-gray-300">
            {author}
          </p>
        </dd>
        <dt class="sr-only">Twitter</dt>
        <dd class="pl-0">
          <ExternalLink
            href={`https://twitter.com/${twitterUsername}`}
            className="text-primary-600 hover:text-primary-700 no-underline"
          >
            {`@${twitterUsername}`}
          </ExternalLink>
        </dd>
      </dl>
    </div>
  </div>

  <hr />
</header>
