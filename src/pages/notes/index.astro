---
import AppTitle from "~/components/AppTitle.astro";
import BaseLayout from "~/layouts/BaseLayout.astro";
import PostsIndex from "~/components/PostsIndex.astro";
import { getCollection } from "astro:content";

const notes = await getCollection("notes");
const sortedNotes = notes.sort(
  (noteA, noteB) =>
    new Date(noteB.data.date).valueOf() - new Date(noteA.data.date).valueOf()
);

const seoProps = {
  description:
    "Piotr Stojanow's book notes. Detailed notes on books I've read. If a book is here, then it's recommended.",
  slug: "notes",
  title: "Notes",
};
---

<BaseLayout {...seoProps}>
  <div class="relative px-4 pt-16 pb-20 sm:px-6 lg:pt-24 lg:pb-28 lg:px-8">
    <div
      class="max-w-2xl px-4 mx-auto prose text-center dark:prose-dark lg:prose-lg md:pt-0"
    >
      <AppTitle>{seoProps.title}</AppTitle>
      <hr />
    </div>

    <PostsIndex posts={sortedNotes} prefix="notes" />
  </div>
</BaseLayout>
